---
title: "API de cero a experto (parte 1)"
description: "Este es el comienzo de una serie de art√≠culos en donde revisaremos c√≥mo trabajar usando API¬¥s de forma profesional. Revisamos los fundamentos para que comiences este viaje."
author: "Paulo Villarroel"
date: "2022-11-21"
categories: [python, tutorial, api]
image: "wool.jpg"
---

Hola!!!

Gracias por estar por estos lados nuevamente.

Con este art√≠culo pretendo iniciar una serie de tutoriales para ense√±ar a consumir datos desde una API. No tengo claro cu√°ntos ser√°n en total, pero como siempre, deseo hacerlo muy de a poco y simples, de modo que puedas sentirte c√≥modo/a al final de todo.

Para estos tutoriales usar√© Python (versi√≥n 3.10), pero recuerda que m√°s all√° del lenguaje, lo importante es comprender la l√≥gica que est√° detr√°s y los fundamentos de programaci√≥n. El lenguaje no es m√°s que una herramienta y si bien la sintaxis puede variar (la forma en que se escribe el c√≥digo), si puedes entender c√≥mo funciona, te ser√° muy simple adaptarlo a tu lenguaje favorito.

Ok!!

Entonces partamos...

# ¬øPor qu√© aprender a usar una API?

Si est√°s partiendo en la programaci√≥n y en an√°lisis de datos, de seguro que te has trabajado con el t√≠pico dataset iris o el de los autos jajaja. Con unos cl√°sicos.

Tambi√©n es posible que est√©s usando archivos Excel para analizarlos o algunos CSV.

La cosa es que todos esos datos est√°n ordenados y en formatos m√°s o menos f√°ciles de trabajar. Pero en la vida real, la historia es muy distinta. Te encontrar√°s con ese tipo de archivos, pero actualmente la forma m√°s com√∫n de interactuar con datos es de otra forma y lo es usando las API.

Es un mundo que debes estudiar, pues tarde o temprano te vas a ver en la necesidad de trabajar usando una API. No es tan complejo, pero requiere de ciertos conocimientos y de pr√°ctica.

Si me preguntas, a d√≠a de hoy, el saber de API es una cosa b√°sica, al menos, el saber hacer solicitudes y manipular los datos de respuesta.

Tranquilo/a!!!

Veremos todo es de a poco.

# ¬øQu√© es una API?

De forma simple, podemos entender a un API como una forma en que 2 sistemas inform√°ticos se comunican entre ellos. Para poder hacerlo, es necesario que estos sistemas "hablen el mismo lenguaje" para que se puedan entender. Con lenguaje no me refiero a lenguaje de programaci√≥n, sino a un conjunto de reglas y protocolos que son conocidos y acordados por ambas partes. Es como hablar con alguien. Si vas a una tienda y quieres comprar una bebida, te acercas al vendedor y le dices: "Hola!! Me da una bebida en lata, por favor". Si todo anda bien, el vendedor te va a preguntar cu√°l bebida quieres y te indicar√° las que tiene disponibles. Tu eliges la que gustes y la compras. Esto que parece b√°sico y trivial, para las computadoras no es tan simple, ni trivial. Deben existir una serie de acuerdos y formas de comunicaci√≥n para que las partes se logren entender. Imagina que vuelves al mismo local para comprar otra bebida, pero esta vez se lo pides de esta forma: "Witam, czy mogƒô prosiƒá o nap√≥j z puszki!". Seguramente, el vendedor te va a mirar con una cara media rara, con cara de WTF! ü•¥ Y es que se lo pediste en polaco!! Claro, le pediste una bebida en lata, igual que antes, pero esta vez en un idioma que √©l no entiende. Eso hace que no logres obtener lo que quieres. Con las API¬¥s pasa lo mismo. Ambas partes deben entenderse para poder comunicarse y lograr una comunicaci√≥n entre ellas. Para eso est√°n los protocolos y definiciones que te mencion√© hace un rato.

API significa \"interfaz de programaci√≥n de aplicaciones\" (del ingl√©s "Application Programming Interface").

La comunicaci√≥n entre las partes funciona como una pregunta (solicitud) y una respuesta. Como el ejemplo de las bebidas.

Ahora, las partes tienden a llamarse servidor y cliente, donde el cliente es quien hace la solicitud y el servidor es el que responde. Piensa en el servidor como la base de datos que contiene (y almacena) los datos y en los clientes como las p√°ginas web, aplicaciones de tel√©fonos o programas que consumen los datos de esos servidores. Habitualmente las personas acceden a los datos desde los clientes, pero tambi√©n se puede hacer directamente a los servidores. En eso trabajan los ingenieros de datos o backend. Aunque eso es otro tema.

Las API pueden funcionar de cuatro maneras diferentes, seg√∫n el momento y el motivo de su creaci√≥n.

-   SOAP¬†

-   RPC

-   WebSocket

-   REST

Para efectos de este tutorial, usar√© la **API REST**, que tiende a ser una de las m√°s comunes y con la que te vas a encontrar frecuentemente en muchas de las aplicaciones, en especial, en las web.

En las API REST, el cliente env√≠a las solicitudes al servidor como datos. El servidor utiliza esta entrada del cliente para iniciar funciones internas y devuelve los datos de salida al cliente.
Una API REST es una API que cumple los principios de dise√±o del estilo de arquitectura REST o *transferencia de estado representacional*. Tambi√©n se llaman a las API REST como API RESTful*.*

Este dato es importante...

Las API REST no son un protocolo de comunicaci√≥n en si mismo, sino una arquitectura de dise√±o. Esta arquitectura est√° plasmada en la tesis de Roy Fielding, [\"Architectural Styles and the Design of Network-based Software Architectures\"](https://www.ics.uci.edu/~fielding/pubs/dissertation/fielding_dissertation_2up.pdf), en donde se se√±ala que las API son RESTful siempre que cumplan con las 6 limitaciones principales de un sistema RESTful:

-   **Arquitectura cliente-servidor:**¬†la arquitectura REST est√° compuesta por clientes, servidores y recursos; y administra las solicitudes con HTTP.

-   **Sistema sin estado:**¬†el contenido de los clientes no se almacena en el servidor entre las solicitudes. En su lugar, la informaci√≥n sobre el estado de la sesi√≥n est√° en posesi√≥n del cliente.

-   **Capacidad de almacenamiento en cach√©:**¬†el almacenamiento en cach√© elimina la necesidad de algunas interacciones cliente-servidor.

-   **Sistema en capas:**¬†las interacciones cliente-servidor pueden estar mediadas por capas adicionales. Estas capas pueden ofrecer funcionalidades adicionales, como equilibrio de carga, cach√©s compartidos o seguridad.

-   **Disponibilidad del c√≥digo seg√∫n se solicite (opcional):**¬†los servidores pueden ampliar las funciones de un cliente transfiriendo c√≥digo ejecutable.

-   **Interfaz uniforme:**¬†esta limitaci√≥n es fundamental para el dise√±o de las API de RESTful.

*Fuente:* <https://www.redhat.com/es/topics/api/what-are-application-programming-interfaces>

![Esquema b√°sico de comunicaci√≥n con API](schema.png){fig-align="center" width="800"}

Para no dejar de mencionarlo, aunque realmente no lo veremos ac√°, es que este tema de la comunicaci√≥n entre servidores y clientes es tan relevante (pero MUY relevante) que hay muchas personas y grupos trabajando en nuevos protocolos y formas de hacer la comuncaci√≥n m√°s r√°pida y segura. Un ejemplo de ello es **GraphQL**. Facebook desarroll√≥ GraphQL y comenz√≥ a utilizarlo en aplicaciones m√≥viles en el 2012. En 2015, se habilit√≥ la especificaci√≥n de [GraphQL como open source](https://graphql.org/foundation/).

# Funciones CRUD

Las API REST funcionan por medio de solicitudes HTTP y pueden ejecutar funciones t√≠picas de bases de datos. Si est√°s familiarizado/a con SQL, de seguro √©sto lo conoces. Si no tienes idea qu√© es SQL, deber√≠as preocuparte si lo que haces es an√°lisis de datos. Pero ese tema se escapa de este tutorial, pero lo veremos mas adelante.

Si te interesa aprender SQL (que deber√≠as!!!!!!), en internet est√° repleto de cursos gratuitos, libros y videos de YouTube. Pero te recomiendo que veas un peque√±o trozo del [siguiente video](https://youtu.be/uUdKAYl-F7g?t=399) (hasta el minuto 10, el link te lo dej√© marcado desde donde empezar). Ese video no es de API propiamente tal, pero los conceptos de las funciones de bases de datos aplican perfectamente. As√≠ que dale una mirada a esos minutos y sigue con el art√≠culo.

Sigamos...

REST define un conjunto de funciones como GET, PUT, DELETE, etc. que los clientes pueden utilizar para acceder a los datos del servidor. Sin embargo, las GET (obtener) te las encontrar√°s por todas partes y son las que debes manejar s√≠ o s√≠ en una API. Es lo b√°sico.

Por eso, en esta serie de art√≠culos me dedicar√© principalmente a este tipo de m√©todos.

# Tipos de API

Otra forma de clasificar a las API es por las funciones que desarrollan, pudiendo ser privadas o p√∫blicas. Las privadas se usan al interior de las instituciones para conectar aplicaciones dentro de ella. Las p√∫blicas est√°n, como sun nombre lo indica, abiertas a personas externas. En este √∫ltimo tipo, se pueden requerir claves o credenciales de acceso, o bien, pueden ser de libre acceso.

Estas credenciales de acceso pueden ser pricipalmente de 2 tipos:

1.  **Tokens de autenticaci√≥n\
    \
    **Se utilizan para autorizar a los usuarios a hacer la llamada a la API. Los tokens de autenticaci√≥n comprueban que los usuarios son quienes dicen ser y que tienen los derechos de acceso para esa llamada concreta a la API. Por ejemplo, cuando inicia sesi√≥n en el servidor de correo electr√≥nico, el cliente de correo electr√≥nico utiliza tokens de autenticaci√≥n para un acceso seguro.

2.  **Claves de API\
    \
    **Las claves de API verifican el programa o la aplicaci√≥n que hace la llamada a la API. Identifican la aplicaci√≥n y se aseguran de que tiene los derechos de acceso necesarios para hacer la llamada a la API en cuesti√≥n. Las claves de API no son tan seguras como los tokens, pero permiten supervisar la API para recopilar datos sobre su uso. Es posible que haya notado una larga cadena de caracteres y n√∫meros en la URL de su navegador cuando visita diferentes sitios web. Esta cadena es una clave de la API que el sitio web utiliza para hacer llamadas internas a la API.

*Fuente:* [https://aws.amazon.com/es/what-is/api/#seo-faq-pairs#how-to-secure-a-rest-api](https://aws.amazon.com/es/what-is/api/#seo-faq-pairs#how-to-secure-a-rest-api)

Esto que acabamos de ver es super importante. Es necesario que aprendas a autenticarte en la consulta de la API, pues es muy frecuente que √©stas est√©n protegidas por temas de seguridad, ya sea por un token o una clave.

# En resumen

Vimos bastantes conceptos y fundamentos sobre las API, y que son necesario que tengas en tu mente. Es importante que entiendas c√≥mo funcionan "por detr√°s", al menos, desde lo b√°sico.

-   Revisamos la importancia de conocer sobre las API.

-   Vimos qu√© son las API y c√≥mo permiten que los sistemas se comuniquen.

-   Explicamos qu√© son los servidores y los clientes.

-   Mencionamos las funciones m√°s clasicas de las API.

# ¬øQu√© se viene?

En el pr√≥ximo art√≠culo ya empezaremos a ver c√≥digo de Python y veremos los primeros pasos para consumir una API.

Saludos!!! ü§ó
